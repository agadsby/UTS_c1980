###############################################################################
# Hercules configuration file for the VM/370 "Community Edition" system.      #
#                                                                             #
# CHANGES: Use socket 3505 for RDR, added UTS disk, console listens on 8081   #
#                                                                             #
# Important!  This file assumes the directories are set up thusly:            #
#    SixPack                 ...command and configuration files               #
#       |                                                                     #
#       +--3270              ...3270 emulator                                 #
#       |                                                                     #
#       +--disks             ...VM disk files                                 #
#       |    +                                                                #
#       |    |                                                                #
#       |    +--shadows      ...VM shadow disk files                          #
#       +--io                ...unit record I/O, tape files                   #
#                                                                             #
###############################################################################

# These Hercules configuration parameters are documented in the Hercules User
# Reference manual.
ARCHMODE        S/370
CNSLPORT        3270
CODEPAGE        819/1047
#               ^   ^
#               |   |
# ASCII --------+   +----- EBCDIC
CPUMODEL        4381
CPUSERIAL       098052
DEVTMAX         0
DIAG8CMD        DISABLE

ECPSVM          YES
# Certain assists need to be disabled on Hercule Hyperion
# release earlier than 4.4.0.xxxxx, which fixes the assist issue.

# Add the statement below, if a pre-4.4.0.xxxxx version of Hyperion
# is being used, without the fix for HERCULES ECPSVM issue #382 (closed).
# ECPSVM        DISABLE DISP1 DISP2

# ============================================================================
# HTTP Configuration for Hercules V4.x
# ============================================================================
# ----------------------------------------------------------------------------
# Identify the port to find the the Operator Console.
# Ensure you have allowed access to this port via iptables, or firewalld.
# Default is 8081.
# ----------------------------------------------------------------------------
HTTP PORT ${HTTPPORT:=8081}
# ----------------------------------------------------------------------------
# This is the directory which contains the HTML pages of documentation.
# ----------------------------------------------------------------------------
#HTTP ROOT /usr/local/share/hercules/
# ----------------------------------------------------------------------------
# Start the web server, you should now be able to connect to http://host:8081
# or whatever port you defined above.
# ----------------------------------------------------------------------------
HTTP START
# ============================================================================   


# Load support for TCPIP instruction.
#LDMOD          DYNINST DYN75

MAINSIZE        16
NUMCPU          1
OSTAILOR        QUIET

PANTITLE        "VM370CE 1.1.2"
# PANRATE and PANTITLE are deprecated in Hercules Hyperion.

PGMPRDOS        RESTRICTED
XPNDSIZE        0

# Next we define the devices attached to our system.
#
# +-----------------------Device number
# |     +-----------------Device type
# |     |       +---------File name and parameters
# |     |       |
# V     V       V
#---    ----    --------------------

# Card Reader   Modified to use socket on port 3505 for card decks (use netcat)
000C    3505    3505 sockdev ascii eof trunc

# Card Punch    anything you punch will be written to "punch.txt" in the IO
#               directory.
000D    3525    io/punch.txt ascii

# Printers      anything you print will be written to "print1.listing" or
#               "print2.listing" in the IO directory.
000E    1403    io/print1.listing
000F    1403    io/print2.listing

# You can access the operator's console through the Hercules window, or you
# can launch a 3270 emulator and have the operator use it.  For the former,
# ensure the next line is not commented.
0009    3215-C  NOPROMPT
# For the latter, comment the above line and un-comment this line:
# 0010    3270  MOD4

# Display Terminals... these are defined in DMKRIO as 3277s.
00C0.32 3270
01C8.7  3270    MOD2
02C8.7  3270
03C8.7  3270

# Display Terminals... these are defined in DMKRIO as 3278-4s.
01C0.7  3270    MOD4
02C0.7  3270
03C0.7  3270

# Typewriter Terminals
000A    1052    NOPROMPT

# Tape Drives
0480    3420    *
0481    3420    *
0580    3420    *
0581    3420    *

# XNET CTCA
0500 CTCE 30882 127.0.0.1 30880

# This disk is used by and replaced by the BREXX interpretor
# and the VM specific GCC runtime library installation and service
# procedure. It intentionally does not have a shadow.
06A0    3350    disks/gccbrx.cckd


# These disks are provided by the VM/370 distribution
06A1    3350    disks/vm50-1.cckd ro sf=disks/shadows/vm50-1_*.shadow
06A2    3350    disks/vm50-2.cckd ro sf=disks/shadows/vm50-2_*.shadow
06A3    3350    disks/vm50-3.cckd ro sf=disks/shadows/vm50-3_*.shadow
06A4    3350    disks/vm50-4.cckd ro sf=disks/shadows/vm50-4_*.shadow
06A5    3350    disks/vm50-5.cckd ro sf=disks/shadows/vm50-5_*.shadow
06A6    3350    disks/vm50-6.cckd ro sf=disks/shadows/vm50-6_*.shadow
06A7    3350    disks/vm50-7.cckd ro sf=disks/shadows/vm50-7_*.shadow
06A8    3350    disks/vm50-8.cckd ro sf=disks/shadows/vm50-8_*.shadow


# Here are the disk drives used by the KICKS application.
06AC    3350    disks/kicks0.cckd ro sf=disks/shadows/kicks0_*.shadow
06AD    3350    disks/vsamin.cckd ro sf=disks/shadows/vsamin_*.shadow

# These two packs are for CMS/DOS.  I have not tested CMS/DOS!
# Un-comment them if you use them.
#06ae    3350    disks/sysres.cckd ro sf=disks/shadows/sysres_*.shadow
#06af    3350    disks/mcat01.cckd ro sf=disks/shadows/mcat01_*.shadow


# This volume contains all mindisks for the CMSUSER userid.
# It could be moved from one VM/370 distribution to a newer one.
06B0    3350    disks/vm50u0.cckd ro sf=disks/shadows/vm50u0_*.shadow

# This volume is shipped with no minidisks.
# Use it for any minidisks you want to add.
# It could be moved from one VM/370 distribution to a newer one.
06B1    3350    disks/vm50u1.cckd ro sf=disks/shadows/vm50u1_*.shadow


#########################################################################
# Here are the disk drives used by the CMS version from CP/67.
# Read the readme-CMS67.txt file before using.
06d0    2314    disks/vm14-0.cckd ro sf=disks/shadows/vm14-0_*.shadow
06d1    2314    disks/vm14-1.cckd ro sf=disks/shadows/vm14-1_*.shadow
06d2    2314    disks/vm14-2.cckd ro sf=disks/shadows/vm14-2_*.shadow
06d3    2314    disks/vm14-3.cckd ro sf=disks/shadows/vm14-3_*.shadow


# UTS disks : 150 is standard UTSSYS remainder are "spares"
0150     3330    disks-uts/uts.150
0151     3330    disks-uts/uts.151
0152     3330    disks-uts/uts.152
